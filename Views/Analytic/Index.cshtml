@model AnalyticModel

@{
    ViewData["Title"] = "Analytics";
}

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
    <h3>Analytic Report</h3>
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group mr-2">
            <button class="btn btn-sm btn-outline-secondary">Share</button>
            <button class="btn btn-sm btn-outline-secondary">Export</button>
        </div>
        <button class="btn btn-sm btn-outline-secondary dropdown-toggle">
            <span data-feather="calendar"></span>
            This week
        </button>
    </div>
</div>
<h3>Top booked tours last 30 days</h3>
@for (int i = 0; i < Model.TopBookedTours.Length; i++)
{
    <h5 class="my-1 text-danger">#@(i + 1) @Model.TopBookedTours[i].Title</h5>
}
<hr />
<div class="my-5">
    <canvas id="revenueBarChart"></canvas>
    <h6 class="text-center mt-3">Monthly Revenues</h6>
</div>
<hr />
<div class="my-5">
    <canvas id="ticketSalesLineChart"></canvas>
    <h6 class="text-center mt-3">Monthly Ticket Sales</h6>
</div>
<hr />
<div class="my-5">
    <div class="w-75 m-auto my-3">
        <canvas id="bookingStatusSegmentPieChart"></canvas>
    </div>
    <h6 class="text-center mt-3">Booking Status Segmentation</h6>
</div>


@section Scripts {
    <script src="~/lib/chartjs/dist/chart.min.js"></script>
    <script>
        @Html.Raw(Model.RevenueChart.CreateChartCode("revenueBarChart"));
        @Html.Raw(Model.TicketSalesChart.CreateChartCode("ticketSalesLineChart"));
        @Html.Raw(Model.BookingStatusSegmentChart.CreateChartCode("bookingStatusSegmentPieChart"));
    </script>
}